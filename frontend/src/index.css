@import "tailwindcss";

/* WebTUI Layers - Must be defined first */
@layer base, utils, components;

/* Import WebTUI modules */
@import "@webtui/css/base.css";
@import "@webtui/css/utils/box.css";
@import "@webtui/css/components/button.css";
@import "@webtui/css/components/typography.css";
@import "@webtui/css/components/badge.css";
@import "@webtui/css/components/input.css";


@layer base {
  :root {
    /* Dark Mode (Default / Catppuccin Mocha) */
    --tui-bg: #1e1e2e;
    --tui-fg: #cdd6f4;
    --tui-border: #313244;
    --tui-primary: #89b4fa;
    --tui-sidebar: #16161e; /* New Variable for sidebars */
  }

  /* Light Mode (Catppuccin Latte) */
  [data-theme="light"] {
    --tui-bg: #eff1f5;
    --tui-fg: #4c4f69;
    --tui-border: #bcc0cc;
    --tui-primary: #1e66f5;
    --tui-sidebar: #e6e9ef;
  }
}

root{
  font-family: 'Inconsolata','JetBrains Mono', 'Fira Code', monospace; /* Terminal Font */
}

html, body, #root {
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden; /* Prevent body scroll, let Layout handle it */
}

body {
  background-color: var(--tui-bg);
  color: var(--tui-fg);
  transition: background-color 0.3s ease, color 0.3s ease;
  font-family: var(--font-mono);
}

.cm-cursor {
    transition: left 0.1s ease-out, top 0.1s ease-out;
}

/* Fix KaTeX in Dark Mode */
.katex {
  color: #cdd6f4 !important; /* Force readable text color */
  font-family: var(--font-mono) !important; /* Force Nerd Font */
  font-size: 1.15em;
}

.katex-display {
  margin: 1em 0;
  overflow-x: auto;
  overflow-y: hidden;
}

/* Make equations pop slightly */
.katex .mord.mathnormal {
  color: #cba6f7; /* Catppuccin Mauve for variables */
}

/* Brighten Markdown Prose */
.prose {
  color: #cdd6f4 !important; /* Base text */
}
.prose strong {
  color: #fff !important;
}
.prose h1, .prose h2, .prose h3 {
  color: var(--tui-primary) !important;
}
.prose code {
  color: #f38ba8 !important; /* Reddish code for contrast */
}

/* Custom Scrollbar Styles */
.custom-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: #2f334d #1a1b26;
}

.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: #1a1b26;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: #2f334d;
  border-radius: 3px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #3f4456;
}

/* Apply to all view containers */
.topics-grid-container,
.children-grid-container,
.topic-view-container {
  scrollbar-width: thin;
  scrollbar-color: #2f334d #1a1b26;
}

.topics-grid-container::-webkit-scrollbar,
.children-grid-container::-webkit-scrollbar,
.topic-view-container::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.topics-grid-container::-webkit-scrollbar-track,
.children-grid-container::-webkit-scrollbar-track,
.topic-view-container::-webkit-scrollbar-track {
  background: #1a1b26;
}

.topics-grid-container::-webkit-scrollbar-thumb,
.children-grid-container::-webkit-scrollbar-thumb,
.topic-view-container::-webkit-scrollbar-thumb {
  background: #2f334d;
  border-radius: 4px;
}

.topics-grid-container::-webkit-scrollbar-thumb:hover,
.children-grid-container::-webkit-scrollbar-thumb:hover,
.topic-view-container::-webkit-scrollbar-thumb:hover {
  background: #3f4456;
}


/* Hide scrollbar but keep functionality */
.hide-scrollbar {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;  /* Chrome, Safari and Opera */
}

/* Custom scrollbar for internal elements */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: #16161e;
  border-radius: 3px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: #2f334d;
  border-radius: 3px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #89b4fa;
}
